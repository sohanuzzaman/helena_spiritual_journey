---
// Full-bleed cinematic image break â€” parameterized for reuse
// Decorative only: no semantic content, aria-hidden

interface Props {
  imageSrc: string;
  objectPosition?: string;
  blendTopColor?: 'abyss' | 'depth';
  blendBottomColor?: 'abyss' | 'depth';
}

const {
  imageSrc,
  objectPosition = 'center 35%',
  blendTopColor = 'abyss',
  blendBottomColor = 'depth',
} = Astro.props;

const colorMap: Record<string, { cssVar: string; rgb: string }> = {
  abyss: { cssVar: 'var(--color-abyss)', rgb: '11,0,20' },
  depth: { cssVar: 'var(--color-depth)', rgb: '26,10,46' },
};

const top = colorMap[blendTopColor];
const bottom = colorMap[blendBottomColor];
---

<div class="crystal-interlude reveal" aria-hidden="true">
  <img
    src={imageSrc}
    alt=""
    loading="lazy"
    decoding="async"
    class="absolute inset-0 w-full h-full object-cover"
    style={`object-position: ${objectPosition};`}
  />

  <!-- Purple and Gold radial vignette from edges -->
  <div
    class="absolute inset-0 bg-[radial-gradient(ellipse_at_center,_transparent_20%,_rgba(106,27,154,0.15)_60%,_rgba(18,3,34,0.85)_100%)]"
  >
  </div>

  <!-- Ambient magical glow orb -->
  <div
    class="glow-orb w-[400px] h-[400px] bg-gold-solar/15 top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2"
    aria-hidden="true"
  >
  </div>

  <!-- Top edge blend into previous section -->
  <div
    class="absolute inset-x-0 top-[-5px] h-96"
    style={`background: linear-gradient(to bottom, ${top.cssVar} 0%, rgba(${top.rgb},0.95) 15%, rgba(${top.rgb},0.85) 30%, rgba(${top.rgb},0.65) 50%, rgba(${top.rgb},0.3) 75%, rgba(${top.rgb},0.05) 90%, transparent 100%);`}
  >
  </div>

  <!-- Bottom edge blend into next section -->
  <div
    class="absolute inset-x-0 bottom-[-5px] h-[500px]"
    style={`background: linear-gradient(to top, ${bottom.cssVar} 0%, ${bottom.cssVar} 5%, rgba(${bottom.rgb},0.95) 20%, rgba(${bottom.rgb},0.85) 40%, rgba(${bottom.rgb},0.6) 60%, rgba(${bottom.rgb},0.25) 80%, rgba(${bottom.rgb},0.05) 95%, transparent 100%);`}
  >
  </div>
</div>

<style>
  .crystal-interlude {
    position: relative;
    width: 100%;
    height: 90vh;
    min-height: 600px;
    overflow: hidden;
  }
</style>
